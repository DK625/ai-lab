Đoạn văn bản cuối cùng này chính là **"Bản thiết kế thi công"** và **"Bảng tra cứu nhanh"** của toàn bộ quy trình. Nó đóng vai trò là đầu ra (Output) cuối cùng để một hệ thống tự động (Orchestrator) có thể đọc và điều khiển các Agent làm việc.

Dưới đây là giải thích chi tiết và cách hệ thống thực hiện chạy song song:

### 1. Giải thích chi tiết các thành phần

#### File `execution-plan.md` (Bản kế hoạch thực thi)

Đây là tài liệu quan trọng nhất để bắt đầu code:

* **Bảng Tracks**: Tổng hợp danh sách các "đội quân" (Agent). Mỗi Agent có một tên riêng (`BlueLake`, `GreenCastle`...) để dễ theo dõi và một danh sách các công việc (`Beads`) sắp xếp theo thứ tự ưu tiên.
* **File Scope (Phạm vi tệp)**: Đây là "hàng rào" bảo vệ. Nó quy định cụ thể Agent nào được phép sửa thư mục nào, giúp tránh việc hai Agent cùng sửa một file dẫn đến lỗi xung đột code.
* **Cross-Track Dependencies (Phụ thuộc chéo giữa các luồng)**: Chỉ ra điểm giao thoa. Ví dụ: "Đội 2 (CLI) chỉ được bắt đầu sau khi Đội 1 (SDK) đã làm xong một phần việc cụ thể". Điều này đảm bảo tính logic của hệ thống.
* **Key Learnings (Bài học chính)**: Bản tóm tắt các kết quả từ giai đoạn **Spike** để người điều phối (Orchestrator) có cái nhìn tổng quan về các điểm khó kỹ thuật.

#### Phần Validation (Kiểm chứng cuối cùng)

Trước khi "bấm nút" cho các Agent chạy, bạn phải kiểm tra lại bằng lệnh `bv`:

* **`.Cycles`**: Đảm bảo không có vòng lặp (A đợi B, B đợi A) khiến hệ thống bị treo.
* **`.unassigned`**: Đảm bảo không có công việc (Bead) nào bị bỏ sót, tất cả phải được giao cho một Agent cụ thể.

---

### 2. Cách hệ thống thực hiện chạy song song

Việc chạy song song được thể hiện và thực hiện thông qua cấu trúc **Tracks** (Luồng).

#### Nó được thể hiện ở đâu?

Sự song song được hiển thị rõ nhất trong bảng **Tracks** của file `execution-plan.md`.

* Nếu bạn thấy có 3 Track (BlueLake, GreenCastle, RedStone), điều đó có nghĩa là hệ thống có khả năng chạy **3 luồng công việc cùng một lúc**.

#### Cách nó thực hiện (Cơ chế vận hành):

Hệ thống Orchestrator sẽ thực hiện theo các bước sau:

1. **Khởi tạo song song**: Orchestrator đọc file `execution-plan.md` và spawn (tạo ra) các công nhân AI (Workers) tương ứng với số lượng Track.
2. **Cách ly môi trường (Isolation)**: Mỗi Worker sẽ được cấp một "lệnh bài" là `File Scope`. Ví dụ: Worker `BlueLake` chỉ được nhìn thấy và chỉnh sửa thư mục `packages/sdk/**`.
3. **Quản lý phụ thuộc (Dependency Management)**:
* Các luồng không có phụ thuộc chéo (như Track 3 trong ví dụ của bạn) sẽ được chạy **ngay lập tức**.
* Các luồng có phụ thuộc (Track 2 đợi Track 1) sẽ ở trạng thái "Chờ" (Pending) cho đến khi sự kiện `bd-11 hoàn thành` được kích hoạt.



### 3. Các lỗi thường gặp (Common Mistakes) cần lưu ý

Đoạn văn bản của bạn cũng chỉ ra những sai lầm chết người mà bạn nên tránh:

* **Thiếu Discovery**: Nhảy vào lập kế hoạch ngay sẽ khiến bạn bỏ lỡ các mẫu code có sẵn, dẫn đến việc "phát minh lại bánh xe".
* **Thiếu Spikes cho rủi ro HIGH**: Nếu không nghiên cứu trước các phần khó, các công nhân AI sẽ bị "đứng hình" khi gặp lỗi mà bạn chưa dự lường.
* **Không chạy `bv validation**`: Dẫn đến đồ thị công việc bị gãy, các Agent sẽ làm sai thứ tự hoặc dẫm chân lên nhau.
