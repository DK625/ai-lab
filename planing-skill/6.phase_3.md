### 1. Cấu trúc nội dung Spike

* **Time-box (30 minutes):** Đây là giới hạn thời gian tối đa để thực hiện nghiên cứu. Việc đặt ra mốc 30 phút giúp ngăn chặn tình trạng agent hoặc lập trình viên bị "sa lầy" quá sâu vào một vấn đề nhỏ, đảm bảo tính hiệu quả của kế hoạch.
* **Output location (`.spikes/<spike-id>/`):** Chỉ định nơi lưu trữ mã nguồn thử nghiệm. Mã này thường là mã nháp, không dùng để chạy production nên cần để ở một thư mục riêng biệt để tránh làm bẩn codebase chính.
* **Question:** Đặt ra một câu hỏi kỹ thuật cực kỳ cụ thể (ví dụ: "Thư viện X có hỗ trợ chuẩn mã hóa Y không?") thay vì những câu hỏi chung chung.

### 2. Success Criteria (Tiêu chí thành công)

Đây là "định nghĩa về sự hoàn thành" (Definition of Done) cho một Spike:

* **Working throwaway code exists:** Phải có code chạy thử được (dù là code "viết xong rồi bỏ") để chứng minh giả thuyết.
* **Answer documented:** Phải trả lời rõ ràng được câu hỏi ở trên kèm theo chi tiết kỹ thuật.
* **Learnings captured:** Những gì rút ra được từ Spike này phải được đưa ngược lại vào kế hoạch triển khai chính (main plan) để các agent thực hiện sau này không mắc lại sai lầm cũ.

### 3. On Completion (Kết thúc công việc)

Lệnh `bd close <id> --reason "..."` là cách để cập nhật trạng thái của Bead vào hệ thống quản lý.

* **YES:** Nếu cách tiếp cận khả thi, cung cấp hướng dẫn (approach) để người sau làm theo.
* **NO:** Nếu gặp rào cản không thể vượt qua (blocker), phải nêu rõ lý do để đội ngũ tìm phương án thay thế.

---

### Ví dụ thực tế dựa trên Template này

Nếu bạn đang gặp rủi ro cao về việc tích hợp một thư viện xử lý ảnh mới:

> **# Spike: Thư viện Sharp có hỗ trợ WebP trên môi trường Docker không?**
> **Time-box**: 30 minutes
> **Output location**: .spikes/spike-001/
> ## Question
> 
> 
> Liệu chúng ta có thể convert file PNG sang WebP bằng thư viện Sharp trong image `node:20-alpine` mà không cần cài thêm thư viện hệ thống không?
> ## Success Criteria
> 
> 
> * [ ] Có script `test-convert.js` chạy thành công trong Docker.
> * [ ] Trả lời được việc có cần `apk add` thêm gói gì không.
> * [ ] Ghi lại các bước cấu hình vào file `README.md` trong thư mục spike.
> 
> 
> ## On Completion
> 
> 
> `bd close spike-001 --reason "YES: Cần cài thêm libvips thông qua apk add trong Dockerfile"`